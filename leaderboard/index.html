<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liderlik C…ôdv…ôli - PeerStack</title>
    <link rel="stylesheet" href="../css/sidebar.css">
    <link rel="stylesheet" href="../css/preload.css">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <script>
        (function() {
            document.body.classList.add('preload');
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-theme');
            }
            const sidebarOpen = localStorage.getItem('sidebarOpen') !== 'false';
            if (!sidebarOpen) {
                document.body.classList.add('sidebar-collapsed');
            }
        })();
    </script>
    <div class="page-wrapper">
        <div class="container">
            <div class="header">
                <h1>üèÜ T…ôl…ôb…ô Liderlik C…ôdv…ôli</h1>
                <p class="header-subtitle">T…ôl…ôb…ôl…ôrin modul progress ortalamasƒ±na g√∂r…ô sƒ±ralanmasƒ±</p>
            </div>

            <!-- How it works info -->
            <div class="info-card">
                <div class="info-icon">‚ÑπÔ∏è</div>
                <div class="info-content">
                    <strong style="color: #1e40af !important;">Ortalama nec…ô hesablanƒ±r?</strong>
                    <p>H…ôr t…ôl…ôb…ônin b√ºt√ºn modullardakƒ± (Onboarding, Season 01, Season 02, v…ô s.) progress faizl…ôri toplanƒ±r v…ô modul sayƒ±na b√∂l√ºn√ºr. M…ôs…ôl…ôn: 3 modulda 80%, 60%, 40% progress varsa, ortalama (80+60+40)/3 = 60% olur.</p>
                </div>
            </div>

            <!-- Stats Summary -->
            <div class="stats-summary">
                <div class="summary-item better">
                    <span class="summary-icon">üåü</span>
                    <span class="summary-count" id="countBetterStat">0</span>
                    <span class="summary-label">∆èla (120%+)</span>
                </div>
                <div class="summary-item good">
                    <span class="summary-icon">üëç</span>
                    <span class="summary-count" id="countGoodStat">0</span>
                    <span class="summary-label">Yax≈üƒ± (90-119%)</span>
                </div>
                <div class="summary-item normal">
                    <span class="summary-icon">üìä</span>
                    <span class="summary-count" id="countNormalStat">0</span>
                    <span class="summary-label">Normal (70-89%)</span>
                </div>
                <div class="summary-item weak">
                    <span class="summary-icon">‚ö†Ô∏è</span>
                    <span class="summary-count" id="countWeakStat">0</span>
                    <span class="summary-label">Z…ôif (50-69%)</span>
                </div>
                <div class="summary-item very-weak">
                    <span class="summary-icon">üî¥</span>
                    <span class="summary-count" id="countVeryWeakStat">0</span>
                    <span class="summary-label">√áox Z…ôif (&lt;50%)</span>
                </div>
            </div>

            <!-- Info Box -->
            <div class="info-box">
                <div class="info-icon">‚ÑπÔ∏è</div>
                <div class="info-content">
                    <strong>Performans Hesablanmasƒ±:</strong> T…ôl…ôb…ôl…ôr proqramda ke√ßirdikl…ôri vaxta g√∂r…ô qiym…ôtl…ôndirilir. 
                    H…ôr ay √º√ß√ºn t…ôxmin…ôn 1 modul bitirm…ôk g√∂zl…ônilir. Performans = (Faktiki progress / G√∂zl…ônil…ôn progress) √ó 100%.
                    <br><em>Misal: 2 aydƒ±r proqramda olan v…ô h…ôl…ô Preseason-da qalan t…ôl…ôb…ô z…ôif qiym…ôtl…ôndirilir.</em>
                </div>
            </div>

            <!-- Tab Filters -->
            <div class="section">
                <div class="tab-filters">
                    <button class="tab-btn active" data-filter="all">
                        <span class="tab-icon">üìã</span>
                        Hamƒ±sƒ±
                        <span class="tab-count" id="countAll">0</span>
                    </button>
                    <button class="tab-btn" data-filter="better">
                        <span class="tab-icon">üåü</span>
                        ∆èla
                        <span class="tab-count" id="countBetter">0</span>
                    </button>
                    <button class="tab-btn" data-filter="good">
                        <span class="tab-icon">üëç</span>
                        Yax≈üƒ±
                        <span class="tab-count" id="countGood">0</span>
                    </button>
                    <button class="tab-btn" data-filter="normal">
                        <span class="tab-icon">üìä</span>
                        Normal
                        <span class="tab-count" id="countNormal">0</span>
                    </button>
                    <button class="tab-btn" data-filter="weak">
                        <span class="tab-icon">‚ö†Ô∏è</span>
                        Z…ôif
                        <span class="tab-count" id="countWeak">0</span>
                    </button>
                    <button class="tab-btn" data-filter="very-weak">
                        <span class="tab-icon">üî¥</span>
                        √áox Z…ôif
                        <span class="tab-count" id="countVeryWeak">0</span>
                    </button>
                </div>

                <!-- Leaderboard Table -->
                <div class="table-container">
                    <table class="data-table" id="leaderboardTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>T…ôl…ôb…ô</th>
                                <th>Cohort</th>
                                <th>Proqramda Vaxt</th>
                                <th>Bitirdiyi Modullar</th>
                                <th>Performans</th>
                                <th>S…ôviyy…ô</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboardTableBody">
                            <tr><td colspan="7" style="text-align: center;">Y√ºkl…ônir...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Popup -->
    <div id="notificationPopup" class="notification-popup hidden">
        <div class="notification-content">
            <div class="notification-icon">‚úì</div>
            <p id="notificationMessage"></p>
        </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="../js/config.js"></script>
    <script src="../js/utils/UIHelper.js"></script>
    <script src="../js/models/StudentModel.js"></script>
    <script src="../js/models/ProgressModel.js"></script>
    <script src="../js/components/Sidebar.js"></script>
    <script src="leaderboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const leaderboard = new LeaderboardController();
            leaderboard.init();
        });
    </script>
</body>
</html>
