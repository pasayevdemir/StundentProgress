<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ana S…ôhif…ô - PeerStack</title>
    <link rel="stylesheet" href="../css/sidebar.css">
    <link rel="stylesheet" href="../css/preload.css">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <script>
        (function() {
            document.body.classList.add('preload');
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-theme');
            }
            const sidebarOpen = localStorage.getItem('sidebarOpen') !== 'false';
            if (!sidebarOpen) {
                document.body.classList.add('sidebar-collapsed');
            }
        })();
    </script>
    <div class="page-wrapper">
        <div class="container">
            <div class="header">
                <h1>üìä Ana S…ôhif…ô</h1>
                <p class="header-subtitle">Qiym…ôtl…ôndirm…ô statistikasƒ± v…ô √ºmumi baxƒ±≈ü</p>
            </div>

            <!-- Statistics Cards -->
            <div class="stats-grid">
                <div class="stat-card primary">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-info">
                        <h3 id="todayReviews">-</h3>
                        <p>Bug√ºnk√º Qiym…ôtl…ôndirm…ôl…ôr</p>
                    </div>
                </div>
                <div class="stat-card success">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-info">
                        <h3 id="weekReviews">-</h3>
                        <p>Bu H…ôft…ô</p>
                    </div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-icon">üìÜ</div>
                    <div class="stat-info">
                        <h3 id="monthReviews">-</h3>
                        <p>Bu Ay</p>
                    </div>
                </div>
                <div class="stat-card info">
                    <div class="stat-icon">üìö</div>
                    <div class="stat-info">
                        <h3 id="totalReviews">-</h3>
                        <p>√úmumi Qiym…ôtl…ôndirm…ô</p>
                    </div>
                </div>
            </div>

            <!-- Pending Reviews Alert -->
            <div class="pending-alert-card" id="pendingAlert" style="display: none;">
                <div class="pending-alert-center">
                    <h3>G√∂zl…ôy…ôn Qiym…ôtl…ôndirm…ôl…ôr</h3>
                    <p><strong id="pendingCount">0</strong> t…ôl…ôb…ô h…ôl…ô bug√ºn qiym…ôtl…ôndirilm…ôyib</p>
                </div>
                <div class="pending-alert-right">
                    <a href="../review/" class="pending-alert-btn">Qiym…ôtl…ôndirm…ôy…ô ke√ß</a>
                </div>
            </div>

            <!-- Reviewers Table -->
            <div class="section">
                <div class="section-header">
                    <h2>üë• Qiym…ôtl…ôndir…ônl…ôr</h2>
                    <p class="section-subtitle">Reviewer statistikasƒ±</p>
                </div>
                <div class="table-container">
                    <table class="data-table" id="reviewersTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ad Soyad</th>
                                <th>Bug√ºn</th>
                                <th>√úmumi</th>
                            </tr>
                        </thead>
                        <tbody id="reviewersTableBody">
                            <tr><td colspan="4" style="text-align: center;">Y√ºkl…ônir...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Recent Reviews -->
            <div class="section">
                <div class="section-header">
                    <h2>üïê Son Qiym…ôtl…ôndirm…ôl…ôr</h2>
                    <p class="section-subtitle">∆èn son edil…ôn qiym…ôtl…ôndirm…ôl…ôr</p>
                </div>
                <div class="recent-reviews-list" id="recentReviewsList">
                    <p style="text-align: center; color: #6b7280;">Y√ºkl…ônir...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Popup -->
    <div id="notificationPopup" class="notification-popup hidden">
        <div class="notification-content">
            <div class="notification-icon">‚úì</div>
            <p id="notificationMessage"></p>
        </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="../js/config.js"></script>
    <script src="../js/utils/UIHelper.js"></script>
    <script src="../js/models/StudentModel.js"></script>
    <script src="../js/models/ReviewModel.js"></script>
    <script src="../js/models/ReviewerModel.js"></script>
    <script src="../js/components/Sidebar.js"></script>
    <script src="dashboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dashboard = new DashboardController();
            dashboard.init();
        });
    </script>
</body>
</html>
